@using ITI_ProjectFinal.ViewModel
 @model empWithDepatListViewModel 
@{
    ViewData["Title"] = "Edit";
}

<h1>Edit Employee</h1>

<!-- Form with Antiforgery Token and Correct Action URL  asp-action="SaveEdit" asp-controller="Employee" asp-route-id="@Model.Id"-->
<form method="post" action="/Employee/SaveEdit/@Model.Id">
   

    <div> 
        <input type="hidden" name="id" value="@Model.Id" class="form form-control" />
    </div>

    <div>
     @*    <label asp-for="Name"></label> // if let it empty will add attrbiute name  *@
        <label>Name</label>
        <input type="text" name="name" id="name" value="@Model.Name" class="form form-control" />
    </div>

    <div>
        <label>Job Title</label>
        <input type="text" name="jobtitle" id="jobtitle" value="@Model.JobTitle" class="form form-control" />
    </div>

    <div>
        <label>Address</label>
        <input type="text" name="address" id="address" value="@Model.Address" class="form form-control" />
    </div>

    <div>
        <label>Salary</label>
        <input type="text" name="salary" id="salary" value="@Model.Salary" class="form form-control" />
    </div>

    <div>
        <label>Image</label>
        <input type="text" name="imageurl" id="imageurl" value="@Model.ImageUrl" class="form form-control" />
    </div>

    <div>
        <label>Departments</label>
      @*   <input type="number" name="DepartmentiD" id="DepartmentiD" value="@Model.DepartmentiD" class="form form-control" /> *@

        <select  name="DepartmentiD" id="DepartmentiD" value="@Model.DepartmentiD" class="form form-control">

            @foreach (var deptitem in Model.Departmentlist)
            {
                if(Model.DepartmentiD == deptitem.Id) // Relation FK With PK
                {
                    <option value="@deptitem.Id" selected>
                        @deptitem.Name
                    </option>

                }
                else
                {
                    <option value="@deptitem.Id">
                        @deptitem.Name
                    </option>
                }
               
            }
        </select>

    </div>

   
   <input type="submit" value="Edit" class="btn btn-primary" /> 
</form>
